https://mp.weixin.qq.com/s?__biz=MzU3NDUxMDgzMA==&mid=2247485123&idx=1&sn=55f87bfa669ccafa09fed9cae012918d&scene=21&poc_token=HHZllGijmU0d6oIThE8DhfknZgeW4D4xmO3WVL7I
#### MCP如何工作的？

这个时候就需要搞清楚**MCP的三个核心部分**：

**1. MCP主机（Host）- "总指挥"**

就是AI应用本身，比如Claude Desktop、Cursor IDE、Zed编辑器等

它是**整个系统的"大脑"**

> 负责：
> 
> 理解用户的需求
> 
> 决定需要调用哪些工具
> 
> 协调客户端和服务器之间的交互
> 
> 将结果整合后返回给用户

**2. MCP客户端（Client）- "传话员"**

内置在主机应用中的组件

> 负责：
> 
> 将主机的需求转换成MCP标准请求
> 
> 与各个服务器建立连接
> 
> 传递数据和指令

**3. MCP服务器（Server）- "工具箱"**

**各种外部工具和数据源**比如文件系统、数据库、网页浏览器、API服务等

**举个例子：**

📌 任务目标：

使用 Claude Desktop（MCP 主机），让 AI 帮你生成一份「今日热点新闻摘要」。

🧠 MCP 整个工作流程![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/kTUxrs5r4UNY7JqMdHvEjVcqW5VkURr6nWdhmiaKOvRLq5RDOianPicXTgcuwgsEZsRAVcxd64icVCVxHZHMdZqwAQ/640?wx_fmt=png&from=appmsg&watermark=1&tp=webp&wxfrom=5&wx_lazy=1)

✅ 步骤 1：你在 Claude Desktop 发起请求

“请帮我生成一份今日热点新闻摘要。”

这时，Claude Desktop（MCP 主机）就启动了整个智能体工作流，它要完成三件事：

> 1 明白你想干什么（任务目标）
> 
> 2 找模型“咨询”该如何做
> 
> 3 把工作“交给工具”执行

✅ 步骤 2：主机构造上下文，交给 MCP 客户端

Claude Desktop 作为主机，会整理当前的“上下文”并打包，比如：

用户请求：生成今日热点新闻摘要

当前时间：2025年6月10日

可调用的工具列表：新闻搜索 API、摘要生成工具、排版模版等

这些信息会传给 MCP 客户端（client），也就是连着 Claude 模型的那一层。

✅ 步骤 3：MCP 客户端调用 Claude 模型，获取“意图”，输出一段“计划”或“动作请求”：

比如“我将使用 NewsSearch 工具获取今日新闻，请稍等”的请求

✅ 步骤 4：MCP 主机执行工具调用 主机收到 Claude 的“工具调用请求”，就去调用一个真实的新闻 API 工具，比如：

NewsAPI.org

Google News RSS

（这里需要注意的是，“只有在主机上安装并注册了相应的 MCP Server（比如：新闻插件服务），Claude 才能成功调用这个工具来完成任务。”）

✅ 步骤 5：再喂给模型，让它生成报告 

主机把这堆原始新闻数据又打包成新的上下文发给 MCP 客户端，Claude 继续处理，生成一个格式化报告，比如：

“截至2025年6月10日中午，全球主要新闻包括：……（按主题分段总结、排序）。”

✅ 步骤 6：主机将结果展示给你 Claude Desktop 把报告插入到你的文档、邮件草稿或 Markdown 笔记中，也可能生成 PDF 或 PPT。

你就获得了一份真正“端到端自动完成”的智能报告。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/kTUxrs5r4UNY7JqMdHvEjVcqW5VkURr6NwVbhPz3icH6rAXOjp91AiaCCsB5SQRyADMWvme1j7XibeaDr4ILPHbVA/640?wx_fmt=png&from=appmsg&watermark=1&tp=webp&wxfrom=5&wx_lazy=1)

#### MCP server如何获取？

如上面所说，当我们需要AI帮忙完成任务时，往往会涉及调用各种外部工具，比如获取实时热点新闻、时间、天气等。

这些“工具”本质上就是MCP Server，是专门为AI设计的插件服务，能帮模型连接到外部数据和功能。

我们获取这些插件，一般有四种方式，**但对于非技术小白来说，最方便的还是直接在专门的MCP收录平台上查找和使用**。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/kTUxrs5r4UNY7JqMdHvEjVcqW5VkURr6bicQkO0mmpe0PdvFO0KE9DYf8faDS7b5tP7bcIY55ziabZ6m7UkKJ03Q/640?wx_fmt=png&from=appmsg&watermark=1&tp=webp&wxfrom=5&wx_lazy=1)

比如mcp.so,smithery.ai等平台，集成了上千个MCP servers.可以满足大部分需求。

https://mcp.so/ https://smithery.ai/

#### MCP也不是万能钥匙

**安全&隐私风险**：MCP让AI能调用各种外部工具和数据，有点像给AI开了“门”，管理不好，可能会被不安全的工具利用，泄露隐私或者执行坏事。

**稳定&兼容性问题**：MCP Server通常是第三方开发的，有些服务可能不稳定。

**复杂度提升**：虽然MCP帮AI连接工具，但同时也让整个系统更复杂，维护和调试变得更难。

**总结一句话：**

MCP 就像给AI装了双手和眼睛，但这些“手脚”和“眼睛”是别人做的，可能会有用不过来、坏掉、或者带来安全隐患的风险。

但是说到底，**MCP 也许还不完美的，但它确实帮 AI 多了点“真本事”，让我们离用得上、用得爽的智能助手又近了一步**。