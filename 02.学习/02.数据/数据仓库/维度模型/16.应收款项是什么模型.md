
**应收款项在数据建模中通常采用“星形模型”或“星座模型”**，核心是**应收账款事实表**，围绕客户、时间、账龄等维度表展开。用一句话概括：**应收款项是记录“谁欠钱、欠多少、何时还”的账本，通过关联多维度支持账龄分析和风险预警**。

---

### **示例：应收账款模型拆解**
#### 1️⃣ **事实表（记录欠款核心）**
| 应收ID        | 客户ID   | 发票ID       | 应收日期ID   | 到期日ID    | 应收金额    | 已收金额   | 账龄天数 | 状态   |     |
| ----------- | ------ | ---------- | -------- | -------- | ------- | ------ | ---- | ---- | --- |
| AR202310001 | KH3001 | F202309001 | 20230901 | 20231001 | 100,000 | 60,000 | 30   | 部分支付 |     |

#### 2️⃣ **维度表（解释欠款背景）**
- **客户维度表**  
  | 客户ID | 客户名称   | 信用评级 | 所属行业 |  
  |--------|------------|----------|----------|  
  | KH3001 | 蓝天科技   | BBB      | 制造业   |  

- **时间维度表**  
  | 日期ID   | 日期        | 年份 | 季度 | 月份 |  
  |----------|-------------|------|------|------|  
  | 20230901 | 2023-09-01  | 2023 | Q3   | 09   |  
  | 20231001 | 2023-10-01  | 2023 | Q4   | 10   |  

- **账龄维度表**（特殊设计）  
  | 账龄分段 | 风险等级 | 催收策略 |  
  |----------|----------|----------|  
  | 0-30天   | 低风险   | 邮件提醒 |  
  | 31-60天  | 中风险   | 电话催收 |  
  | 61天以上 | 高风险   | 法律介入 |  

---

### **3秒理解关键点**  
1. **事实表核心是钱和时间**：  
   - **应收金额**（客户欠多少）  
   - **到期日**（何时该还钱）  
   - **账龄**（超期未还的天数）  
2. **维度表回答关键问题**：  
   - **客户表**：谁欠钱？信用如何？  
   - **时间表**：何时发生？何时到期？  
   - **账龄表**：欠款风险等级和应对措施  
3. **结构像星形**：  
   - 一个事实表直连所有维度表，适合快速分析“制造业客户的平均回款周期”  

---

### **为什么用星形模型？**  
- **高频分析需求**：  
  财务需快速查“TOP10欠款客户”或“账龄超过60天的金额”，星形模型关联层级少、响应快。  
- **状态跟踪直接**：  
  状态字段（如“未结清/部分支付/逾期”）可直接在事实表中标识。  

---

### **应收款项的特殊性**  
1. **动态账龄计算**：  
   - 账龄天数 = 当前日期 - 应收日期（需动态计算或定期更新）  
2. **坏账准备金关联**：  
   - 需关联**坏账计提规则表**（如“账龄>90天计提50%坏账”）  
3. **分期收款跟踪**：  
   - 若客户分期还款，需设计**收款计划事实表**与应收表关联  
   | 计划ID | 应收ID | 计划还款日ID | 计划金额 | 实际还款日ID | 实际金额 |  
   |--------|--------|--------------|----------|--------------|----------|  
   | PAY001 | AR202310001 | 20231001 | 50,000   | 20231005     | 50,000   |  

---

### **扩展场景（星座模型）**  
若需同时分析应收、实收、销售订单，可升级为星座模型：  
```
★ 应收账款事实表  
★ 实收账款事实表  
★ 销售订单事实表  
├── 共享维度表（客户、时间、产品）  
```  
**分析示例**：  
“客户下单金额 vs 实际回款率” → 关联销售订单金额和实收金额  

---

### **典型分析场景**  
1. **风险预警**：  
   “信用评级为BBB的客户，其逾期率是否高于平均值？” → 关联应收表+客户表  
2. **现金流预测**：  
   “未来30天预计到期的应收账款总额” → 按到期日ID聚合未收金额  
3. **坏账分析**：  
   “账龄超过90天的应收款中，哪些行业占比最高？” → 按账龄分段+行业维度分析  

---

### **类比理解**  
- **应收账款模型**像**个人借条管理**：  
  - 事实表记录“张三借了5000元，应于10月1日归还”  
  - 维度表解释“张三是同事，信用良好”  
  - 账龄表提示“超期15天需电话提醒”  
- **坏账准备**像**雨天备伞**：  
  根据历史数据预测可能收不回的欠款，提前计提损失。  

**总结**：应收款项是**以时间和风险为核心的星形模型**，既是企业现金流的“预警雷达”，也是客户信用的“监测仪表盘”。